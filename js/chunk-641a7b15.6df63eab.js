(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-641a7b15"],{3754:function(e,t,r){"use strict";var s=r("8981"),n=r.n(s);n.a},"4e9d":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"screenshot"},[e.folderName?r("div",[r("div",{staticClass:"header"},[r("q-btn",{attrs:{color:e.btnColorCreateScreens,label:"Создать","icon-right":e.btnIconCreateScreens,loading:e.isProcess,disable:e.isProcess},on:{click:e.createScreenshots},scopedSlots:e._u([{key:"loading",fn:function(){return[r("q-spinner-tail",{attrs:{size:"sm"}})]},proxy:!0}],null,!1,1364290725)})],1),r("q-card",{staticClass:"settings"},[r("q-card-section",[r("p",[e._v("Создать скриншоты для:")]),r("q-checkbox",{staticClass:"screenshot-type",attrs:{label:"Thumb"},model:{value:e.doThumb,callback:function(t){e.doThumb=t},expression:"doThumb"}}),r("q-checkbox",{staticClass:"screenshot-type",attrs:{label:"Screens"},model:{value:e.doScreens,callback:function(t){e.doScreens=t},expression:"doScreens"}})],1)],1),r("div",{staticClass:"files"},[r("div",{staticClass:"checked"},[r("q-checkbox",{model:{value:e.checkFiles,callback:function(t){e.checkFiles=t},expression:"checkFiles"}})],1),e._l(e.arrFiles,(function(t){return r("q-card",{key:t.name,staticClass:"files-card"},[r("q-card-section",{staticClass:"section"},[r("p",{staticClass:"name",class:{"no-checked":!t.isReady}},[e._v(e._s(t.name))]),r("q-checkbox",{model:{value:t.isReady,callback:function(r){e.$set(t,"isReady",r)},expression:"file.isReady"}})],1)],1)})),r("div",{staticClass:"checked"},[r("q-checkbox",{model:{value:e.checkFiles,callback:function(t){e.checkFiles=t},expression:"checkFiles"}})],1)],2)],1):r("div",[r("h6",{staticClass:"no-file"},[e._v("Файл не выбран")])])])},n=[],c=(r("4de4"),r("4160"),r("caad"),r("c975"),r("a434"),r("d3b7"),r("2532"),r("159b"),r("96cf"),r("1da1")),a=r("5530"),o=r("2f62"),i=r("e6be"),l={name:"Screenshot",mixins:[i["a"]],data:function(){return{btnColorCreateScreens:"primary",btnIconCreateScreens:"create",arrFiles:[],checkFiles:!0,doThumb:!0,doScreens:!1,isProcess:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(o["c"])({baseURL:function(e){return e.baseURL},folderName:function(e){return e.folderName}})),{},{redirectAfterFiles:{get:function(){return this.$store.state.redirectAfterFiles},set:function(e){this.$store.commit("setRedirectAfterFiles",e)}}}),watch:{checkFiles:function(e){this.arrFiles.forEach((function(t){return t.isReady=e}))},doThumb:function(e){var t="thumb";e?this.addCreateType(t):this.removeCreateType(t)},doScreens:function(e){var t="screens";e?this.addCreateType(t):this.removeCreateType(t)}},methods:{createScreenshots:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isProcess=!0,r=e.arrFiles.filter((function(e){return e.isReady})),r.length||(e.saveAction("btnIconCreateScreens","btnColorCreateScreens",!1),console.error("Файлы не выбранны")),e.doThumb||e.doScreens||(e.saveAction("btnIconCreateScreens","btnColorCreateScreens",!1),console.error("Не выбран тип")),t.prev=4,t.next=7,fetch(e.baseURL+"create_screenshots",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(r)});case 7:return s=t.sent,t.next=10,s.json();case 10:n=t.sent,""!==n.error?(e.saveAction("btnIconCreateScreens","btnColorCreateScreens",!1),console.error(n.error)):e.saveAction("btnIconCreateScreens","btnColorCreateScreens"),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](4),e.saveAction("btnIconCreateScreens","btnColorCreateScreens",!1),console.error(t.t0);case 18:e.isProcess=!1;case 19:case"end":return t.stop()}}),t,null,[[4,14]])})))()},addCreateType:function(e){this.arrFiles.forEach((function(t){t.createType.includes(e)||t.createType.push(e)}))},removeCreateType:function(e){this.arrFiles.forEach((function(t){var r=t.createType.indexOf(e);-1!==r&&t.createType.splice(r,1)}))},getFiles:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e.baseURL+"screenshots",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({folderName:e.folderName})});case 3:return r=t.sent,t.next=6,r.json();case 6:s=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0);case 12:e.arrFiles=s;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}},mounted:function(){this.redirectAfterFiles="/screenshots"},created:function(){this.getFiles()}},u=l,d=(r("3754"),r("2877")),h=Object(d["a"])(u,s,n,!1,null,"2f543cb2",null);t["default"]=h.exports},8981:function(e,t,r){},e6be:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var s={data:function(){return{}},methods:{saveAction:function(e,t){var r=this,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this[e],c=this[t];s?(this[e]="done",this[t]="positive"):(this[e]="report_problem",this[t]="red"),setTimeout((function(){r[e]=n,r[t]=c}),2e3)}}}}}]);
//# sourceMappingURL=chunk-641a7b15.6df63eab.js.map